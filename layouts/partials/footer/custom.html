<script>
document.addEventListener('DOMContentLoaded', () => {
  const todos = document.querySelectorAll('input[type="checkbox"]');
  todos.forEach((box, index) => {
    const key = `todo_${index}`;

    // Restaurer l’état
    const saved = localStorage.getItem(key);
    if (saved === 'true') box.checked = true;
    if (saved === 'false') box.checked = false;

    // Sauvegarder à chaque clic
    box.addEventListener('change', () => {
      localStorage.setItem(key, box.checked);
    });
  });
});
</script>
